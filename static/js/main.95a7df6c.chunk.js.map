{"version":3,"sources":["components/widgetSm/chat.jsx","components/widgetSm/WidgetChat.jsx","components/widgetLg/info.jsx","components/widgetLg/WidgetLg.jsx","components/map/Map.jsx","components/map/assets/cargo-truck.png","App.jsx","reportWebVitals.js","index.js"],"names":["Chat","props","handleSubmit","event","setState","message","target","value","state","send","messages","onPress","bind","this","socket","io","path","transports","on","name","operator","emit","map","index","d","Date","date","toLocaleDateString","className","reverse","type","placeholder","onKeyUp","onClick","React","Component","WidgetChat","operator_set","handleChange","preventDefault","onSubmit","onChange","Info","trucks_damaged","failing","code","source","list","trucks_info","Object","entries","info","console","log","staff","data","age","capacity","engine","truck","WidgetLg","show_info","L","Icon","Default","prototype","_getIconUrl","icon","iconUrl","iconSize","Marker","options","MyMap","trucks","MapContainer","center","zoom","scrollWheelZoom","TileLayer","attribution","url","key","position","Popup","Polyline","positions","origin","destination","App","args","length","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"2SAIqBA,E,kDACnB,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IAqBRC,aAAe,SAAAC,GACb,EAAKC,SAAS,CAAEC,QAASF,EAAMG,OAAOC,SArBtC,EAAKC,MAAQ,CACXC,MAAM,EACNC,SAAU,GACVL,QAAS,IAEX,EAAKM,QAAU,EAAKA,QAAQC,KAAb,gBACf,EAAKV,aAAe,EAAKA,aAAaU,KAAlB,gBARH,E,qDAWnB,WAAsB,IAAD,OACnBC,KAAKC,OAASC,YAAG,wDAAyD,CACxEC,KAAM,UACNC,WAAY,CAAC,eAEfJ,KAAKC,OAAOI,GAAG,QAAQ,SAAAb,GACrB,EAAKD,SAAS,CAAEM,SAAS,CAAEL,GAAH,mBAAe,EAAKG,MAAME,kB,qBAStD,WACE,GAAwB,KAArBG,KAAKL,MAAMH,QAAa,CACzB,IAAMA,EAAU,CACdA,QAASQ,KAAKL,MAAMH,QACpBc,KAAMN,KAAKZ,MAAMmB,UAEnBP,KAAKC,OAAOO,KAAK,OAAQhB,M,oBAK7B,WACE,IACMK,GADOG,KAAKL,MAAME,UAAY,IACdY,KAAI,SAACjB,EAASkB,GAClC,IAAIC,EAAI,IAAIC,KAAKpB,EAAQqB,MAEzB,OADAF,EAAIA,EAAEG,qBAEJ,sBAAKC,UAAU,UAAf,UACG,sBAAKA,UAAU,aAAf,UAA8BvB,EAAQc,KAAtC,QACA,sBAAKS,UAAU,gBAAf,UAAiCvB,EAAQA,QAAzC,OACA,sBAAKuB,UAAU,aAAf,UAA8BJ,EAA9B,aAKP,OACE,gCACE,qBAAKI,UAAU,aAAf,SACGlB,EAASmB,YAEZ,sBAAKD,UAAU,aAAf,UACE,uBACEE,KAAK,OACLC,YAAY,kBACZC,QAASnB,KAAKX,eAChB,wBAAQ+B,QAASpB,KAAKF,QAAtB,8B,GA9DwBuB,IAAMC,WCAnBC,E,kDACnB,WAAYnC,GAAQ,IAAD,8BACjB,cAAMA,IACDO,MAAQ,CACXY,SAAU,GACViB,cAAc,EACd3B,SAAU,IAGZ,EAAK4B,aAAe,EAAKA,aAAa1B,KAAlB,gBACpB,EAAKV,aAAe,EAAKA,aAAaU,KAAlB,gBATH,E,gDAYnB,SAAaT,GACRU,KAAKL,MAAMY,WAAWjB,EAAMG,OAAOC,OACpCM,KAAKT,SAAS,CAACgB,SAAUjB,EAAMG,OAAOC,U,0BAI1C,SAAaJ,GACXU,KAAKT,SAAS,CAACiC,cAAc,IAC7BlC,EAAMoC,mB,oBAER,WAEE,OACE,sBAAKX,UAAU,WAAf,UACE,sBAAMA,UAAU,gBAAhB,wCACA,wBACEf,KAAKL,MAAM6B,cACb,uBAAMG,SAAU3B,KAAKX,aAArB,UACE,uBAAO4B,KAAK,OAAOvB,MAAOM,KAAKL,MAAMY,SAAUqB,SAAU5B,KAAKyB,eAC9D,uBAAOR,KAAK,SAASvB,MAAM,uBAE5BM,KAAKL,MAAM6B,cAAgB,cAAC,EAAD,CAAMjB,SAAUP,KAAKL,MAAMY,kB,GAlCvBc,IAAMC,W,gCCCzBO,E,kDACnB,WAAYzC,GAAQ,IAAD,8BACjB,cAAMA,IACDO,MAAQ,CACXmC,eAAgB,IAHD,E,qDAOnB,WAAsB,IAAD,OACnB9B,KAAKC,OAASC,YAAG,wDAAyD,CACxEC,KAAM,UACNC,WAAY,CAAC,eAEfJ,KAAKC,OAAOI,GAAG,WAAW,SAAAb,GACtB,IAAIuC,EAAU,EAAKpC,MAAMmC,eACrBE,EAAOxC,EAAQwC,KACnB,EAAKzC,SAAS,CAACuC,eAAe,2BAAGE,EAAOxC,EAAQyC,QAAYF,QAEhE/B,KAAKC,OAAOI,GAAG,OAAO,SAAAb,GAClB,IAAMuC,EAAU,EAAKpC,MAAMmC,sBACpBC,EAAQvC,EAAQwC,MACvB,EAAKzC,SAAS,CAACuC,eAAgBC,S,oBAIrC,WAAS,IAAD,OACAG,EAAOlC,KAAKZ,MAAM+C,aAAe,GACjCA,EAAcC,OAAOC,QAAQH,GAAMzB,KAAI,YAAkB,IAAD,mBAAV6B,GAAU,WAC1DC,QAAQC,IAAIF,EAAKG,OACjB,IACMA,GADIH,EAAKG,OAAS,IACRhC,KAAI,SAACiC,GACjB,OACI,qBAAK3B,UAAU,QAAf,SACG,sBAAKA,UAAU,OAAf,wBAAmC2B,EAAKpC,KAAxC,WAAsDoC,EAAKC,IAA3D,aAGX,OAAGL,EAAKN,QAAQ,EAAKrC,MAAMmC,eAEnB,sBAAKf,UAAU,sBAAf,UACG,sBAAKA,UAAU,OAAf,uBAA+BuB,EAAKN,KAApC,OACA,sBAAKjB,UAAU,OAAf,wBAAmCuB,EAAKM,SAAxC,OACA,sBAAK7B,UAAU,OAAf,oBAA+BuB,EAAKO,OAApC,OACA,sBAAK9B,UAAU,OAAf,qBAAgCuB,EAAKQ,MAArC,OACA,sBAAK/B,UAAU,OAAf,oBAA+B,EAAKpB,MAAMmC,eAAeQ,EAAKN,MAA9D,OACA,qBAAKjB,UAAU,OAAf,wBACC0B,KAKJ,sBAAK1B,UAAU,kBAAf,UACG,sBAAKA,UAAU,OAAf,uBAA+BuB,EAAKN,KAApC,OACA,sBAAKjB,UAAU,OAAf,wBAAmCuB,EAAKM,SAAxC,OACA,sBAAK7B,UAAU,OAAf,oBAA+BuB,EAAKO,OAApC,OACA,sBAAK9B,UAAU,OAAf,qBAAgCuB,EAAKQ,MAArC,OACA,qBAAK/B,UAAU,OAAf,yBACA,qBAAKA,UAAU,OAAf,wBACC0B,QAKhB,OACI,qBAAK1B,UAAU,WAAf,SACGoB,Q,GAhEuBd,IAAMC,WCDnByB,E,kDACnB,WAAY3D,GAAQ,IAAD,8BACjB,cAAMA,IACDO,MAAQ,CACXqD,WAAW,GAEb,EAAK3D,aAAe,EAAKA,aAAaU,KAAlB,gBALH,E,gDAQnB,SAAaT,GACXU,KAAKT,SAAS,CAACyD,WAAW,IAC1B1D,EAAMoC,mB,oBAGR,WACE,OACE,sBAAKX,UAAU,WAAf,UACE,sBAAMA,UAAU,gBAAhB,qCACA,wBACEf,KAAKL,MAAMqD,WACb,sBAAMrB,SAAU3B,KAAKX,aAArB,SACE,uBAAO4B,KAAK,SAASvB,MAAM,mBAE5BM,KAAKL,MAAMqD,WAAa,cAAC,EAAD,CAAMb,YAAanC,KAAKZ,MAAM+C,qB,GAvBzBd,IAAMC,W,+DCCrC2B,IAAEC,KAAKC,QAAQC,UAAUC,YAEhC,IAAMH,EAAOD,IAAEK,KAAK,CACZC,QCRO,6lQDSPC,SAAU,CAAC,GAAG,MAGtBP,IAAEQ,OAAOL,UAAUM,QAAQJ,KAAOJ,E,IAGbS,E,kDAEjB,WAAYvE,GAAQ,IAAD,8BACf,cAAMA,IACDO,MAAQ,CACXiE,OAAQ,GACRzB,YAAa,IAJA,E,qDAQnB,WAAqB,IAAD,OAGZ,EAAK5C,SAAS,CAACqE,OAAQ,GAAKzB,YAAa,KACzC,EAAK5C,SAAS,CACRqE,OAAQ,EAAKxE,MAAMwE,OACnBzB,YAAa,EAAK/C,MAAM+C,gB,gCAMtC,WAAsB,IAAD,OAGV,EAAKxC,MAAMiE,SAAS,EAAKxE,MAAMwE,QAAU,EAAKjE,MAAMwC,cAAc,EAAK/C,MAAM+C,aAC5E,EAAK5C,SAAS,CAACqE,OAAQ,GAAKzB,YAAa,KACzC,EAAK5C,SAAS,CACVqE,OAAQ,EAAKxE,MAAMwE,OACnBzB,YAAa,EAAK/C,MAAM+C,gBAEtB,EAAKxC,MAAMiE,SAAS,EAAKxE,MAAMwE,QAK/B,EAAKjE,MAAMwC,cAAc,EAAK/C,MAAM+C,eAJ1C,EAAK5C,SAAS,CAACqE,OAAQ,KACvB,EAAKrE,SAAS,CACZqE,OAAQ,EAAKxE,MAAMwE,Y,oBAYjC,WACI,OACI,eAACC,EAAA,EAAD,CAAcC,OAAQ9D,KAAKZ,MAAM0E,OAAQC,KAAM,GAAIC,iBAAiB,EAApE,UACI,cAACC,EAAA,EAAD,CACIC,YAAY,yEACZC,IAAI,uDACL/B,OAAOC,QAAQrC,KAAKL,MAAMiE,QAAQnD,KAAI,YAAmB,IAAD,mBAAhB2D,EAAgB,KAAX1E,EAAW,KACvD,OAAO,cAAC+D,EAAA,EAAD,CAAQY,SAAU3E,EAAlB,SACH,eAAC4E,EAAA,EAAD,qBACYF,MAFqBA,MAMxChC,OAAOC,QAAQrC,KAAKL,MAAMwC,aAAa1B,KAAI,YAAkB,IAAD,mBAAV6B,GAAU,WACzD,OAAO,cAACiC,EAAA,EAAD,CAAUC,UAAW,CAAClC,EAAKmC,OAAQnC,EAAKoC,yB,GA5DhCrD,IAAMC,WEPnCqD,E,kDACJ,WAAYvF,GAAQ,IAAD,8BACjB,cAAMA,IACDO,MAAQ,CACXmE,OAAQ,CAACO,SAAU,IACnBT,OAAQ,GACRzB,YAAa,IALE,E,qDAQnB,WAAsB,IAAD,OACnBnC,KAAKC,OAASC,YAAG,wDAAyD,CACxEC,KAAM,UACNC,WAAY,CAAC,eAGfJ,KAAKC,OAAOI,GAAG,YAAY,WAAa,IACtC,IAAIuD,EAAS,EAAKjE,MAAMiE,OADc,mBAATgB,EAAS,yBAATA,EAAS,gBAItC,GAFAhB,EAAOgB,EAAK,GAAG5C,MAAQ4C,EAAK,GAAGP,SAC/B,EAAK9E,SAAS,CAACqE,OAAQA,IACgB,IAApC,EAAKjE,MAAMmE,OAAOO,SAASQ,OAAW,CACvC,IAAIf,EAAS,CAACO,SAASO,EAAK,GAAGP,UAC/B,EAAK9E,SAAS,CAACuE,OAAQA,EAAQF,OAAQA,QAG3C5D,KAAKC,OAAOO,KAAK,UAEjBR,KAAKC,OAAOI,GAAG,UAAU,WACvB,EAAKd,SAAS,CAAC4C,YAAY,UAAD,qC,oBAI9B,WACE,OAAGnC,KAAKL,MAAMmE,OAAOO,SAASQ,OAAO,EAEjC,sBAAK9D,UAAU,OAAf,UACE,sBAAKA,UAAU,QAAf,UACE,cAAC,EAAD,CAAO+C,OAAQ9D,KAAKL,MAAMmE,OAAOO,SAAUT,OAAQ5D,KAAKL,MAAMiE,OAAQzB,YAAanC,KAAKL,MAAMwC,cAC9F,qBAAKpB,UAAU,cAAf,SACE,cAAC,EAAD,SAIJ,qBAAKA,UAAU,cAAf,SACE,cAAC,EAAD,CAAUoB,YAAanC,KAAKL,MAAMwC,mBAMtC,sBAAKpB,UAAU,OAAf,UACE,qBAAKA,UAAU,QAAf,SACE,qBAAKA,UAAU,cAAf,SACE,cAAC,EAAD,QAIJ,qBAAKA,UAAU,cAAf,SACE,cAAC,EAAD,a,GAzDMM,IAAMC,WAiETqD,IC7DAG,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCDdQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1Bb,M","file":"static/js/main.95a7df6c.chunk.js","sourcesContent":["import \"./widgetSm.css\";\nimport React from \"react\";\nimport { io } from 'socket.io-client';\n\nexport default class Chat extends React.Component{\n  constructor(props) {\n    super(props);\n    this.state = {\n      send: false,\n      messages: [],\n      message: ''\n    }\n    this.onPress = this.onPress.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  componentDidMount () {\n    this.socket = io('wss://tarea-3-websocket.2021-2.tallerdeintegracion.cl', {\n      path: \"/trucks\",\n      transports: ['websocket']\n    });\n    this.socket.on('CHAT', message => {\n      this.setState({ messages: [message, ...this.state.messages]})\n    })\n  \n  }\n\n  handleSubmit = event => {  \n    this.setState({ message: event.target.value})\n  }\n\n  onPress(){\n    if(this.state.message!==''){\n      const message = {\n        message: this.state.message,\n        name: this.props.operator\n      }\n      this.socket.emit('CHAT', message)\n    }\n    \n  }\n\n  render() {\n    const list = this.state.messages || [];\n    const messages = list.map((message, index) => {\n      var d = new Date(message.date);\n      d = d.toLocaleDateString();\n      return (\n        <div className=\"message\" >\n           <div className=\"name_style\" >{message.name}: </div>\n           <div className=\"message_style\" >{message.message} </div>\n           <div className=\"date_style\" >{d} </div>\n       </div>)\n      \n    });\n\n    return(\n      <div>\n        <div className=\"widgetchat\">\n          {messages.reverse()}\n        </div>\n        <div className=\"submitchat\">\n          <input\n            type=\"text\"\n            placeholder='Enter a message'\n            onKeyUp={this.handleSubmit} />\n          <button onClick={this.onPress}>\n            Enviar\n          </button>\n        </div>\n      </div>\n    )\n  }\n}","import \"./widgetSm.css\";\nimport React from \"react\";\nimport Chat from \"./chat\";\n\nexport default class WidgetChat extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      operator: '',\n      operator_set: false,\n      messages: []\n    };\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(event) {\n    if(this.state.operator!==event.target.value){\n      this.setState({operator: event.target.value});\n    }\n  }\n\n  handleSubmit(event) {\n    this.setState({operator_set: true});\n    event.preventDefault();\n  }\n  render() {\n\n    return (\n      <div className=\"widgetSm\">\n        <span className=\"widgetSmTitle\">Central de comunicaci√≥n</span>\n        <br />\n        {!this.state.operator_set && (\n        <form onSubmit={this.handleSubmit}>\n          <input type=\"text\" value={this.state.operator} onChange={this.handleChange} />\n          <input type=\"submit\" value=\"Elige tu Nombre\" />\n        </form>)}\n        {this.state.operator_set && <Chat operator={this.state.operator} />}\n      </div>\n    );\n  }\n}","import \"./widgetLg.css\";\nimport React from \"react\";\nimport { io } from 'socket.io-client';\n\n\nexport default class Info extends React.Component{\n  constructor(props) {\n    super(props);\n    this.state = {\n      trucks_damaged: {}\n    }\n  }\n\n  componentDidMount () {\n    this.socket = io('wss://tarea-3-websocket.2021-2.tallerdeintegracion.cl', {\n      path: \"/trucks\",\n      transports: ['websocket']\n    });\n    this.socket.on('FAILURE', message => {\n        var failing = this.state.trucks_damaged\n        var code = message.code\n        this.setState({trucks_damaged: {[code]: message.source , ...failing}} );\n    })\n    this.socket.on('FIX', message => {\n        const failing = this.state.trucks_damaged\n        delete failing[message.code]\n        this.setState({trucks_damaged: failing})\n      })\n  }\n\n  render(){\n    const list = this.props.trucks_info || {};\n    const trucks_info = Object.entries(list).map(([key, info]) => {\n        console.log(info.staff)\n        const l = info.staff || []\n        const staff = l.map((data) =>{\n            return (\n                <div className=\"staff\" >\n                   <div className=\"code\" >Integrante {data.name} (edad: {data.age}) </div>\n               </div>)    \n        })\n        if(info.code in this.state.trucks_damaged){\n            return (\n                <div className=\"truck_container_bad\" >\n                   <div className=\"code\" >Cami√≥n {info.code} </div>\n                   <div className=\"code\" >Capacidad: {info.capacity} </div>\n                   <div className=\"code\" >Motor: {info.engine} </div>\n                   <div className=\"code\" >Modelo: {info.truck} </div>\n                   <div className=\"code\" >falla: {this.state.trucks_damaged[info.code]} </div>\n                   <div className=\"code\" >--STAFF-- </div>\n                   {staff}\n               </div>)\n\n        }else{\n            return (\n                <div className=\"truck_container\" >\n                   <div className=\"code\" >Cami√≥n {info.code} </div>\n                   <div className=\"code\" >Capacidad: {info.capacity} </div>\n                   <div className=\"code\" >Motor: {info.engine} </div>\n                   <div className=\"code\" >Modelo: {info.truck} </div>\n                   <div className=\"code\" >status: Ok </div>\n                   <div className=\"code\" >--STAFF-- </div>\n                   {staff}\n               </div>)\n        }\n    });\n\n    return(\n        <div className=\"widgetLg\">\n          {trucks_info}\n        </div>\n    );\n  }\n}","import \"./widgetLg.css\";\nimport React from 'react';\nimport Info from \"./info\";\n\nexport default class WidgetLg extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show_info: false\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleSubmit(event) {\n    this.setState({show_info: true});\n    event.preventDefault();\n  }\n\n  render(){\n    return (\n      <div className=\"widgetLg\">\n        <span className=\"widgetLgTitle\">Informaci√≥n Camiones</span>\n        <br />\n        {!this.state.show_info && (\n        <form onSubmit={this.handleSubmit}>\n          <input type=\"submit\" value=\"Mostrar Info\" />\n        </form>)}\n        {this.state.show_info && <Info trucks_info={this.props.trucks_info} />}\n      </div>\n    );\n  }\n}","import { MapContainer, TileLayer, Marker, Popup, Polyline } from 'react-leaflet';\nimport React from 'react';\nimport L from \"leaflet\";\nimport icon from './assets/cargo-truck.png'\n\ndelete L.Icon.Default.prototype._getIconUrl;\n\nconst Icon = L.icon({\n        iconUrl: icon,\n        iconSize: [25,25]\n    });\n\nL.Marker.prototype.options.icon = Icon;\n    \n\nexport default class MyMap extends React.Component {\n    \n    constructor(props) {\n        super(props);\n        this.state = {\n          trucks: {},\n          trucks_info: {}\n        };\n      }\n\n    componentDidMount() {\n        const refreshMarkers = () => {\n            // Clear state to prevent duplicates\n            this.setState({trucks: {},  trucks_info: {}});\n            this.setState({\n                  trucks: this.props.trucks,\n                  trucks_info: this.props.trucks_info\n                });  \n        };\n        refreshMarkers();\n    }\n\n    componentDidUpdate() {\n        const refreshMarkers = () => {\n            // Clear state to prevent duplicates\n            if(this.state.trucks!==this.props.trucks && this.state.trucks_info!==this.props.trucks_info){\n                this.setState({trucks: {},  trucks_info: {}});\n                this.setState({\n                    trucks: this.props.trucks,\n                    trucks_info: this.props.trucks_info\n                    });\n            } else if(this.state.trucks!==this.props.trucks){\n                this.setState({trucks: {}});\n                this.setState({\n                  trucks: this.props.trucks\n                });\n            } else if(this.state.trucks_info!==this.props.trucks_info){\n                this.setState({trucks: {}});\n                this.setState({\n                  trucks: this.props.trucks\n                });\n            }\n        };\n        refreshMarkers();\n    }\n    \n    render() {\n        return (\n            <MapContainer center={this.props.center} zoom={10} scrollWheelZoom={false}>\n                <TileLayer\n                    attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n                    url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n                />{Object.entries(this.state.trucks).map(([key, value]) => {\n                    return(<Marker position={value} key={key} >\n                        <Popup>\n                            Camion {key}\n                        </Popup>\n                    </Marker>)\n                })}\n                {Object.entries(this.state.trucks_info).map(([key, info]) => {\n                    return(<Polyline positions={[info.origin, info.destination]} />)\n                })}\n\n            </MapContainer>\n        )\n    }\n  }","export default \"data:image/png;base64,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\"","import './App.css';\nimport React from 'react';\nimport WidgetChat from \"./components/widgetSm/WidgetChat\";\nimport WidgetLg from \"./components/widgetLg/WidgetLg\";\nimport MyMap from './components/map/Map';\nimport { io } from 'socket.io-client';\n\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      center: {position: []},\n      trucks: {},\n      trucks_info: {}\n    }\n  }\n  componentDidMount () {\n    this.socket = io('wss://tarea-3-websocket.2021-2.tallerdeintegracion.cl', {\n      path: \"/trucks\",\n      transports: ['websocket']\n    });\n\n    this.socket.on('POSITION', (...args) => {\n      let trucks = this.state.trucks;\n      trucks[args[0].code] = args[0].position;\n      this.setState({trucks: trucks});\n      if(this.state.center.position.length===0){\n        let center = {position:args[0].position};\n        this.setState({center: center, trucks: trucks});\n      }\n    });\n    this.socket.emit(\"TRUCKS\",);\n\n    this.socket.on('TRUCKS', (...args) => {\n      this.setState({trucks_info: args[0]});\n    });\n  }\n\n  render() {\n    if(this.state.center.position.length>0){\n      return (\n        <div className=\"home\">\n          <div className=\"upper\">\n            <MyMap center={this.state.center.position} trucks={this.state.trucks} trucks_info={this.state.trucks_info} />\n            <div className=\"homeWidgets\">\n              <WidgetChat />\n            </div>\n          </div>\n  \n          <div className=\"homeWidgets\">\n            <WidgetLg trucks_info={this.state.trucks_info} />\n          </div>\n        </div>\n      )\n    }\n      return (\n        <div className=\"home\">\n          <div className=\"upper\">\n            <div className=\"homeWidgets\">\n              <WidgetChat />\n            </div>\n          </div>\n  \n          <div className=\"homeWidgets\">\n            <WidgetLg />\n          </div>\n        </div>\n      )\n    \n  };\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}